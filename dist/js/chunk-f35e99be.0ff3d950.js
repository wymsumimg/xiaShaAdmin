(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f35e99be"],{"4a42":function(t,i,e){},b224:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"fixed"},[e("div",{staticClass:"fixed-title"},[t._v("账户设置")]),e("div",{staticClass:"fixed-operation"},[e("div",{staticClass:"fixed-operation-left"}),e("div",{staticClass:"fixed-operation-right"},[e("div",{staticClass:"fixed-operation-leftBtn2",attrs:{btn:""},on:{click:t.addAcount}},[t._v("新增账号")])])]),e("div",[e("el-table",{staticStyle:{width:"100%","border-top":"1px solid #F0F0F0"},attrs:{data:t.dataList,"default-sort":{prop:"createTime",order:"descending"}}},[e("el-table-column",{attrs:{prop:"name",label:"用户名",align:"center"}}),e("el-table-column",{attrs:{prop:"mobile",label:"账号",align:"center"}}),e("el-table-column",{attrs:{prop:"historyTime",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){return t._t("default",[e("div",{attrs:{flex:"cross:center main:center"}},[e("router-link",{staticClass:"fixed-edit",attrs:{tag:"div",to:{name:"accountDetail",query:{id:i.row.id}},btn:""}},[t._v("编辑\n            ")]),e("div",{staticClass:"fixed-delete",attrs:{btn:""},on:{click:function(e){return t.delAccount(i.row.id)}}},[t._v("删除")])],1)])}}],null,!0)})],1)],1),e("l-pagination",{attrs:{flex:"main:right",dataList:t.dataList,item:t.dataJson},on:{"update:dataList":function(i){t.dataList=i},"update:data-list":function(i){t.dataList=i}}}),e("l-dialog",{attrs:{dialogVisible:t.dialogVisible,title:t.dialog.title,width:t.dialog.width,center:t.dialog.center},on:{"update:dialogVisible":function(i){t.dialogVisible=i},"update:dialog-visible":function(i){t.dialogVisible=i}}},[e("div",{staticClass:"detail-dialog",attrs:{flex:"dir:top cross:center"}},[e("el-input",{staticClass:"dialog-item",staticStyle:{width:"360px"},attrs:{placeholder:"请输入姓名"},model:{value:t.account.name,callback:function(i){t.$set(t.account,"name",i)},expression:"account.name"}}),e("el-input",{staticClass:"dialog-item",staticStyle:{width:"360px"},attrs:{placeholder:"请输入手机号码"},model:{value:t.account.mobile,callback:function(i){t.$set(t.account,"mobile",i)},expression:"account.mobile"}}),e("el-input",{staticClass:"dialog-item",staticStyle:{width:"360px"},attrs:{placeholder:"请输入密码"},model:{value:t.account.pwd,callback:function(i){t.$set(t.account,"pwd",i)},expression:"account.pwd"}}),e("div",{staticStyle:{width:"360px","margin-top":"20px"},attrs:{flex:"dir:top cross:center"}},[e("el-checkbox-group",{model:{value:t.functionIds,callback:function(i){t.functionIds=i},expression:"functionIds"}},t._l(t.permissions,function(i,a){return e("el-checkbox",{key:i.id,attrs:{label:i.id,value:i.id}},[t._v(t._s(i.menuName)+t._s(i.selected))])}),1)],1)],1),e("div",{class:t.btnClass,staticStyle:{"margin-left":"60px"},attrs:{flex:"main:center cross:center",btn:"",disabled:""},on:{click:t.addAccount}},[t._v("保存")])])],1)},s=[],n=e("cebc"),o=(e("7f7f"),{components:{},data:function(){return{textValue:"",queryContent:"",dataList:[],dialogVisible:!1,permissions:[],functionIds:[],editId:"",isDisabled:!1,account:{name:"",mobile:"",pwd:""},dialog:{title:"新增账号",width:"540px",center:!0},listShow:!1,reFresh:!1}},computed:{dataJson:function(){return{model:{},url:this.$apis.account.list,listShow:this.listShow}},btnClass:function(){return this.account.name&&this.account.mobile&&this.account.pwd&&this.functionIds.length?"orderDetail-dialog-btn":"orderDetail-dialog-disabled-btn"}},mounted:function(){this.getPermissions()},methods:{addAcount:function(){this.account.name="",this.account.mobile="",this.dialog.title="添加账号",this.functionIds=[],this.dialogVisible=!0,this.account.pwd=""},updateAccount:function(t){this.editId=t,this.getDetail(t)},getPermissions:function(){var t=this;this.$http.get(this.$apis.account.getPermissions,{params:{}}).then(function(i){"200"==i.code&&(t.permissions=i.data)})},getDetail:function(t){var i=this;this.$http.get(this.$apis.account.getDetail,{params:{userId:t}}).then(function(t){if("200"==t.code)for(var e in i.account.name=t.data.name,i.account.mobile=t.data.mobile,i.account.pwd="",i.dialog.title="编辑账号",i.dialogVisible=!0,i.functionIds=[],t.data.functionList)1===t.data.functionList[e].selected&&i.functionIds.push(t.data.functionList[e].id)})},addAccount:function(){var t=this;if(""!=this.account.name)if(""!=this.account.mobile)if(""!=this.account.pwd)if(0!=this.functionIds.length)if(this.isDisabled)this.$toast("请勿重复点击");else{this.isDisabled=!0;var i={name:this.account.name,mobile:this.account.mobile,pwd:this.account.pwd,functionIds:this.functionIds};""!=this.editId&&(i.id=this.editId),this.$http.post(this.$apis.account.update,Object(n["a"])({},i)).then(function(i){t.isDisabled=!1,t.$toast(i.msg),t.listShow=!t.listShow,t.dialogVisible=!1})}else this.$toast("请选择权限");else this.$toast("请输入密码");else this.$toast("请输入手机号码");else this.$toast("请输入姓名")},delAccount:function(t){var i=this;this.$confirm("您确定要删除该账户吗？（删除后不可恢复）","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$http.get(i.$apis.account.delAccount,{params:{id:t}}).then(function(t){i.$toast(t.msg),i.listShow=!i.listShow,i.dialogVisible=!1})}).catch(function(){})}}}),c=o,l=(e("c8e1"),e("2877")),d=Object(l["a"])(c,a,s,!1,null,"a0812b66",null);i["default"]=d.exports},c8e1:function(t,i,e){"use strict";var a=e("4a42"),s=e.n(a);s.a}}]);