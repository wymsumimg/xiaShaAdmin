(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6328f429"],{"0596":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add"},[i("div",{staticClass:"add-title"},[t._v("发布商品")]),i("div",{staticClass:"add-item",attrs:{flex:"cross:center"}},[t._m(0),i("div",{staticClass:"add-item-right",attrs:{flex:"cross:center main:center"}},[i("el-radio",{attrs:{label:1,disabled:!!t.id},model:{value:t.product.productType,callback:function(e){t.$set(t.product,"productType",e)},expression:"product.productType"}},[t._v("智能家具")]),i("el-radio",{attrs:{label:2,disabled:!!t.id},model:{value:t.product.productType,callback:function(e){t.$set(t.product,"productType",e)},expression:"product.productType"}},[t._v("宽带业务")])],1)]),i("div",{staticClass:"add-item",attrs:{flex:"cross:center"}},[t._m(1),i("div",{staticClass:"add-item-right",attrs:{flex:"cross:center"}},[t._l(t.resources2,function(e,s){return i("div",{staticStyle:{position:"relative"}},[i("l-upload",{attrs:{imgUrl:e.resource,spec:t.bannerSpec,name:"上传主图"},on:{"update:imgUrl":function(r){return t.$set(e,"resource",r)},"update:img-url":function(r){return t.$set(e,"resource",r)}}}),""!=e.resource?i("img",{staticClass:"add-item-rightImg",attrs:{src:r("2636"),btn:""},on:{click:function(e){return t.resources2.splice(s,1)}}}):t._e()],1)}),t._l(t.resources1,function(e,s){return i("div",{staticStyle:{position:"relative"}},[i("l-upload",{attrs:{name:"上传视频",imgUrl:e.resource,type:"2"},on:{"update:imgUrl":function(r){return t.$set(e,"resource",r)},"update:img-url":function(r){return t.$set(e,"resource",r)}}}),""!=e.resource?i("img",{staticClass:"add-item-rightImg",attrs:{src:r("2636"),btn:""},on:{click:function(e){return t.$set(t.resources1[0],"resource","")}}}):t._e()],1)})],2)]),t._m(2),i("div",{staticClass:"add-item",attrs:{flex:"cross:center"}},[t._m(3),i("div",{staticClass:"add-item-right"},[i("l-upload",{attrs:{imgUrl:t.product.productImg,spec:t.majorSpec},on:{"update:imgUrl":function(e){return t.$set(t.product,"productImg",e)},"update:img-url":function(e){return t.$set(t.product,"productImg",e)}}})],1)]),t._m(4),i("div",{staticClass:"add-item"},[t._m(5),i("div",{staticClass:"add-item-right"},[i("div",{staticClass:"add-item-input",attrs:{flex:"cross:center"}},[i("el-input",{staticClass:"add-item-inputValue",attrs:{placeholder:"输入内容",maxlength:25},model:{value:t.product.productName,callback:function(e){t.$set(t.product,"productName",e)},expression:"product.productName"}})],1)])]),i("div",{staticClass:"add-item"},[t._m(6),i("div",{staticClass:"add-item-right"},[i("div",{staticClass:"add-item-input",attrs:{flex:"cross:center"}},[i("el-input",{staticClass:"add-item-inputValue",attrs:{placeholder:"¥ 价格"},on:{change:t.handleInput3},model:{value:t.product.productPrice,callback:function(e){t.$set(t.product,"productPrice",e)},expression:"product.productPrice"}})],1)])]),i("div",{staticClass:"add-item"},[t._m(7),i("div",{staticClass:"add-item-right"},[t._l(t.skus,function(e,r){return i("div",[i("div",{staticStyle:{width:"100%","margin-bottom":"25px"},attrs:{flex:"main:justify"}},[i("div",{staticClass:"add-item-addPrice",attrs:{flex:"cross:center"}},[i("span",[t._v("规格名称： "+t._s(e.skuName))]),i("p",[t._v("该规格原价： ¥ "+t._s(e.skuPrice))]),i("i",{staticClass:"el-icon-close",attrs:{btn:""},on:{click:function(e){return t.skus.splice(r,1)}}})]),i("div",{staticClass:"add-item-add",staticStyle:{"margin-left":"30px"},attrs:{flex:"cross:center main:center",btn:""},on:{click:function(i){return t.showDialog(1,e.skuPrice,r)}}},[i("i",{staticClass:"el-icon-plus"}),t._v("添加地区价格\n            ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.regionPrices&&e.regionPrices.length>0,expression:"item.regionPrices && item.regionPrices.length > 0"}],staticClass:"add-item",staticStyle:{"margin-bottom":"50px"}},[i("el-table",{staticStyle:{width:"100%","border-top":"1px solid #F0F0F0"},attrs:{data:e.regionPrices}},[i("el-table-column",{attrs:{label:"规格",align:"center",prop:"item"}},[t._v("\n                  "+t._s(e.skuName)+"\n              ")]),i("el-table-column",{attrs:{label:"所在小区",align:"center",prop:"item"},scopedSlots:t._u([{key:"default",fn:function(e){return t._t("default",[i("p",[t._v(t._s(e.row.regionName))])])}}],null,!0)}),i("el-table-column",{staticStyle:{color:"#FF6E39"},attrs:{label:"优惠后价格",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return t._t("default",[i("p",[t._v("￥ "+t._s(e.row.price))])])}}],null,!0)}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"150",prop:"item"},scopedSlots:t._u([{key:"default",fn:function(r){return t._t("default",[i("p",{staticStyle:{color:"#3A84FF"},on:{click:function(i){return t.deleteTableData(e,r.$index)}}},[t._v("删除")])])}}],null,!0)})],1)],1)])}),i("div",{staticClass:"add-item-add",style:{margin:t.skus.length>0?"0 auto":"0"},attrs:{flex:"cross:center main:center",btn:""},on:{click:function(e){return t.showDialog(2)}}},[i("i",{staticClass:"el-icon-plus"}),t._v(t._s(t.skus.length>0?"继续添加规格":"添加规格")+"\n        ")])],2)]),i("div",{staticClass:"add-item"},[i("div",{staticClass:"add-item-left"},[t._v("是否推荐")]),i("div",{staticClass:"add-item-right",attrs:{flex:"cross:center main:center"}},[i("div",{staticClass:"add-item-input"},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#FF6E39","inactive-color":"#E5E5E5"},model:{value:t.product.recommFlag,callback:function(e){t.$set(t.product,"recommFlag",e)},expression:"product.recommFlag"}})],1)])]),i("div",{staticClass:"add-item"},[i("div",{staticClass:"add-item-left"},[t._v("是否热销")]),i("div",{staticClass:"add-item-right",attrs:{flex:"cross:center main:center"}},[i("div",{staticClass:"add-item-input"},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#FF6E39","inactive-color":"#E5E5E5"},model:{value:t.product.hotFlag,callback:function(e){t.$set(t.product,"hotFlag",e)},expression:"product.hotFlag"}})],1)])]),i("div",{staticClass:"add-item"},[i("div",{staticClass:"add-item-left"},[t._v("发货说明")]),i("div",{staticClass:"add-item-right"},[i("div",{staticClass:"add-item-input",attrs:{flex:"cross:center"}},[i("el-input",{staticClass:"add-item-inputValue",attrs:{placeholder:"输入内容",maxlength:20},model:{value:t.product.shipInstruction,callback:function(e){t.$set(t.product,"shipInstruction",e)},expression:"product.shipInstruction"}})],1)])]),i("div",{staticClass:"add-item"},[t._m(8),i("div",{staticClass:"add-item-right",staticStyle:{"border-radius":"5px",width:"660px",background:"#FAFAFA",padding:"0 30px","box-sizing":"border-box"}},[i("div",{staticClass:"add-item-rightD",staticStyle:{"padding-top":"24px"},attrs:{flex:"cross:center"}},[i("p",[t._v("一级分销比例")]),i("el-input",{staticClass:"add-item-inputValue",staticStyle:{width:"160px"},attrs:{placeholder:"输入内容"},on:{change:t.handleInput4},model:{value:t.product.topProportion,callback:function(e){t.$set(t.product,"topProportion",e)},expression:"product.topProportion"}})],1),i("div",{staticClass:"add-item-rightD",attrs:{flex:"cross:center"}},[i("p",[t._v("二级分销比例")]),i("el-input",{staticClass:"add-item-inputValue",staticStyle:{width:"160px"},attrs:{placeholder:"输入内容"},on:{change:t.handleInput5},model:{value:t.product.secondProportion,callback:function(e){t.$set(t.product,"secondProportion",e)},expression:"product.secondProportion"}})],1)])]),i("div",{staticClass:"add-item"},[i("div",{staticClass:"add-item-left"},[t._v("商品详情")]),i("div",{staticClass:"add-item-right"},[i("quill-editor",{ref:"myQuillEditor",staticStyle:{width:"660px"},attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),i("div",{staticClass:"add-item"},[i("div",{staticClass:"add-item-left"}),i("div",{staticClass:"add-item-right",attrs:{flex:"cross:center"}},[i("div",{staticClass:"add-btn",attrs:{btn:"",flex:"cross:center main:center"},on:{click:function(e){return t.save(1)}}},[t._v("保存")]),i("div",{staticClass:"add-btn2",attrs:{btn:"",flex:"cross:center main:center"},on:{click:t.upperOrLower}},[t._v("发布上架")])])]),i("l-dialog",{attrs:{dialogVisible:t.dialogVisible,title:t.dialog.title,width:t.dialog.width,center:"3"!=t.dialog.type},on:{"update:dialogVisible":function(e){t.dialogVisible=e},"update:dialog-visible":function(e){t.dialogVisible=e}}},["1"==t.dialog.type?i("div",{attrs:{flex:"cross:center dir:top"}},[i("div",{staticClass:"dialog-item",attrs:{flex:"main:center cross:center"}},[i("span",[t._v("该规格原价")]),i("p",[t._v("¥"+t._s(t.dialog.skuPrice))])]),i("div",{staticClass:"dialog-item",attrs:{flex:"main:center cross:center"}},[i("span",[t._v("小区折扣后价格")]),i("el-input",{staticClass:"add-item-inputValue",staticStyle:{width:"355px"},attrs:{placeholder:"请输入新的折扣价格"},on:{change:t.handleInput},model:{value:t.priceProportion,callback:function(e){t.priceProportion=e},expression:"priceProportion"}})],1),i("div",{staticClass:"dialog-item",attrs:{flex:"main:center cross:center"}},[i("span",[t._v("选中小区")]),i("el-select",{staticStyle:{width:"355px"},attrs:{placeholder:"请选择","value-key":"id"},model:{value:t.PriceData,callback:function(e){t.PriceData=e},expression:"PriceData"}},t._l(t.PricesList,function(t,e){return i("el-option",{key:t.id,attrs:{label:t.regionName,value:t}})}),1)],1),i("div",{staticClass:"add-btn",staticStyle:{width:"360px","margin-top":"30px","border-radius":"10px"},attrs:{btn:"",flex:"cross:center main:center"},on:{click:function(e){return t.saveDialog(1)}}},[t._v("保存")])]):t._e(),"2"==t.dialog.type?i("div",{attrs:{flex:"cross:center dir:top"}},[i("div",{staticClass:"dialog-item",attrs:{flex:"main:center cross:center"}},[i("span",[t._v("规格名称")]),i("el-input",{staticClass:"add-item-inputValue",staticStyle:{width:"355px"},attrs:{placeholder:"输入规格名称"},model:{value:t.skuData.skuName,callback:function(e){t.$set(t.skuData,"skuName",e)},expression:"skuData.skuName"}})],1),i("div",{staticClass:"dialog-item",attrs:{flex:"main:center cross:center"}},[i("span",[t._v("该规格原价")]),i("el-input",{staticClass:"add-item-inputValue",staticStyle:{width:"355px"},attrs:{placeholder:"¥ 价格"},on:{change:t.handleInput2},model:{value:t.skuData.skuPrice,callback:function(e){t.$set(t.skuData,"skuPrice",e)},expression:"skuData.skuPrice"}})],1),i("div",{attrs:{flex:"main:center cross:center"}},[i("div",{staticClass:"add-btn",staticStyle:{width:"200px","margin-top":"0","border-radius":"10px"},attrs:{btn:"",flex:"cross:center main:center"},on:{click:function(e){return t.saveDialog(2,!1)}}},[t._v("确定")]),i("div",{staticClass:"add-btn2",staticStyle:{width:"200px","margin-top":"0","border-radius":"10px"},attrs:{btn:"",flex:"cross:center main:center"},on:{click:function(e){return t.saveDialog(2,!0)}}},[t._v("继续添加")])])]):t._e(),"3"==t.dialog.type?i("div",{attrs:{flex:"cross:center dir:top"}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"1px solid #F0F0F0"},attrs:{data:t.assocList},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"商品图",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return t._t("default",[i("img",{staticClass:"head_pic",attrs:{src:e.row.productImg,width:"60",height:"60"}})])}}],null,!0)}),i("el-table-column",{attrs:{prop:"productName",label:"商品名称",align:"center"}}),i("el-table-column",{attrs:{prop:"productSales",align:"center",label:"销售额",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._t("default",[i("span",[t._v(t._s(t._f("getMoney")(e.row.productSales,2)))])])}}],null,!0)})],1),i("div",{staticStyle:{width:"100%"},attrs:{flex:"main:justify"}},[i("div",{staticStyle:{flex:"1"}},[i("l-pagination",{attrs:{dataList:t.assocList,item:t.dataJson,requestMethod:"post"},on:{"update:dataList":function(e){t.assocList=e},"update:data-list":function(e){t.assocList=e}}})],1),i("div",{staticStyle:{padding:"20px 0"},attrs:{flex:"main:right cross:center"}},[i("div",{staticClass:"add-btn",staticStyle:{width:"100px","margin-top":"0","border-radius":"10px"},attrs:{btn:"",flex:"cross:center main:center"},on:{click:function(e){return t.saveDialog(3,!0)}}},[t._v("保存")]),i("div",{staticClass:"add-btn2",staticStyle:{width:"100px","margin-top":"0","border-radius":"10px"},attrs:{btn:"",flex:"cross:center main:center"},on:{click:function(e){return t.saveDialog(3)}}},[t._v("取消")])])])],1):t._e()]),i("l-upload",{ref:"editorUpload",staticStyle:{display:"none"},attrs:{imgUrl:t.editorImg},on:{"update:imgUrl":function(e){t.editorImg=e},"update:img-url":function(e){t.editorImg=e}}})],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 商品类型\n      ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 商品主图/视频\n      ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item",attrs:{flex:"cross:center"}},[r("div",{staticClass:"add-item-left"}),r("div",{staticClass:"add-item-right",staticStyle:{"font-size":"12px",color:"#C0C3CF"},attrs:{flex:"cross:center"}},[t._v("上传主图图片尺寸大小750x480,,大小≤1M,个数≤3个；上传视频≤30M")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 商品展示图\n      ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item",attrs:{flex:"cross:center"}},[r("div",{staticClass:"add-item-left"}),r("div",{staticClass:"add-item-right",staticStyle:{"font-size":"12px",color:"#C0C3CF"},attrs:{flex:"cross:center"}},[t._v("商品展示图1个，建议大小≤2M，建议尺寸500x500;")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 商品名称\n      ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 商品价格\n      ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 添加规格\n      ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-item-left"},[r("span",{staticClass:"redColor"},[t._v("*")]),t._v(" 分销规则\n      ")])}],n=r("59ad"),a=r.n(n),o=r("5d73"),c=r.n(o),l=r("f499"),u=r.n(l),d=r("cebc"),p=(r("96cf"),r("795b")),h=r.n(p);function f(t,e,r,i,s,n,a){try{var o=t[n](a),c=o.value}catch(l){return void r(l)}o.done?e(c):h.a.resolve(c).then(i,s)}function v(t){return function(){var e=this,r=arguments;return new h.a(function(i,s){var n=t.apply(e,r);function a(t){f(n,i,s,a,o,"next",t)}function o(t){f(n,i,s,a,o,"throw",t)}a(void 0)})}}r("4917"),r("cadf"),r("551c"),r("f751"),r("097d"),r("953d");var m={watch:{editorImg:function(t){var e=this.$refs.myQuillEditor.quill,r=e.getSelection().index;e.insertEmbed(r,"image",t),e.setSelection(r+1)},resources1:{handler:function(t){},immediate:!0,deep:!0},resources2:{handler:function(t){t.length>0&&""!=this.resources2[this.resources2.length-1].resource&&this.resources2.length<3&&this.resources2.push({type:1,resource:""})},immediate:!0,deep:!0}},data:function(){var t=this;return{editorImg:"",btnTrue:!0,majorSpec:{width:500,height:500,size:2048},bannerSpec:{width:500,height:500,size:2},content:null,editorOption:{modules:{toolbar:{container:[["bold","italic","underline","strike","image"],["blockquote","code-block"]],handlers:{image:function(e){e?t.editorImgUpload():t.quill.format("image",!1)}}}}},dialogVisible:!1,dialog:{title:"添加商品类型",width:"698px",type:4},assocProducts:[],assocList:[],assocData:[],product:{productType:1},resources1:[{type:3,resource:""}],resources2:[{type:1,resource:""}],regionPrices:[],PricesList:[],PriceData:{},priceProportion:"",skus:[],skuData:{},index:-1}},computed:{id:function(){return this.$route.query.id},dataJson:function(){return{url:this.$apis.product.list}}},mounted:function(){this.id&&this.info(this.id),this.shopList()},methods:{deleteTableData:function(t,e){this.$set(t,e,t.regionPrices.splice(e,1))},editorImgUpload:function(){this.$refs.editorUpload.imgClick()},handleInput:function(t){if(t.match(/^\d*(\.?\d{1,2})/g)){var e=t.match(/^\d*(\.?\d{1,2})/g)[0]||null;this.priceProportion=e}else this.priceProportion=""},handleInput2:function(t){if(t.match(/^\d*(\.?\d{1,2})/g)){var e=t.match(/^\d*(\.?\d{1,2})/g)[0]||null;this.$set(this.skuData,"skuPrice",e)}else this.$set(this.skuData,"skuPrice",null)},handleInput3:function(t){if(t.match(/^\d*(\.?\d{1,2})/g)){var e=t.match(/^\d*(\.?\d{1,2})/g)[0]||null;this.$set(this.product,"productPrice",e)}else this.$set(this.product,"productPrice",null)},handleInput4:function(t){if(t.match(/^\d*(\.?\d{1,2})/g)){var e=t.match(/^\d*(\.?\d{1,2})/g)[0]||null;this.$set(this.product,"topProportion",e)}else this.$set(this.product,"topProportion",null)},handleInput5:function(t){if(t.match(/^\d*(\.?\d{1,2})/g)){var e=t.match(/^\d*(\.?\d{1,2})/g)[0]||null;this.$set(this.product,"secondProportion",e)}else this.$set(this.product,"secondProportion",null)},upperOrLower:function(){var t=v(regeneratorRuntime.mark(function t(){var e,r,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.save(2);case 2:e=t.sent,e||this.$toast("上架失败"),r={productId:e},r.state=1,this.$http.get(this.$apis.product.upperOrLower,{params:Object(d["a"])({},r)}).then(function(t){"200"==t.code&&i.$router.go(-1),i.$toast(t.msg)});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=v(regeneratorRuntime.mark(function t(e){var r,i,s,n,a,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.btnTrue){t.next=2;break}return t.abrupt("return");case 2:for(n in this.btnTrue=!1,r=this.resources1.concat(this.resources2),r.push({type:2,resource:this.content}),r=r.filter(function(t){return""!=t.resource}),i=JSON.parse(u()(this.product)),i.productPrice=100*(i.productPrice||0),s=JSON.parse(u()(this.skus)),s)if(s[n].skuPrice=100*(s[n].skuPrice||0),s[n].regionPrices)for(a in s[n].regionPrices)s[n].regionPrices[a].price=100*(s[n].regionPrices[a].price||0);if(o=r.some(function(t){return"1"==t.type}),!this.verification(o,i,s)){t.next=14;break}return this.btnTrue=!0,t.abrupt("return");case 14:return t.next=16,this.$http.post(this.$apis.product.save,{product:i,resources:r,regionPrices:this.regionPrices,skus:s,assocProducts:this.assocProducts,resourcesT:o});case 16:if(c=t.sent,500!=c.code){t.next=21;break}return this.btnTrue=!0,this.$toast(c.msg),t.abrupt("return");case 21:return"1"==e&&(this.$router.go(-1),this.$toast(c.msg)),this.btnTrue=!0,this.info(c.data,r),t.abrupt("return",c.data);case 25:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),verification:function(t,e,r){return t?e.productImg?e.productName?e.productPrice?0==r.length?(this.$toast("请添加规格"),!0):""==e.topProportion||void 0==e.topProportion||""==e.secondProportion||void 0==e.secondProportion?(this.$toast("请添加分销规则"),!0):void 0:(this.$toast("请填写商品价格"),!0):(this.$toast("请填写商品名称"),!0):(this.$toast("请上传商品展示图"),!0):(this.$toast("请上传主图"),!0)},handleSelectionChange:function(t){this.assocData=t},showDialog:function(t,e,r){if("1"==t){if(void 0==this.product.productPrice)return void this.$toast("请先添加商品价格");this.dialogVisible=!0,this.index=r,this.dialog={title:"添加地区价格",width:"594px",type:1,skuPrice:e}}if("2"==t){if(void 0==this.product.productPrice)return void this.$toast("请先添加商品价格");this.dialogVisible=!0,this.dialog={title:"添加商品规格",width:"564",type:2}}"3"==t&&(this.dialogVisible=!0,this.dialog={title:"选择关联商品",width:"698",type:3})},saveDialog:function(t,e){var r=this;if("1"==t&&this.checkValue({price:[this.priceProportion,"小区折扣后价格"],regionId:[this.PriceData.id,"小区"]},function(t){void 0==r.skus[r.index]["regionPrices"]&&(r.skus[r.index]["regionPrices"]=[]);var e=!0,i=!1,s=void 0;try{for(var n,a=c()(r.skus[r.index]["regionPrices"]);!(e=(n=a.next()).done);e=!0){var o=n.value;if(r.PriceData.regionName==o.regionName)return void r.$toast("该小区已有地区价格")}}catch(l){i=!0,s=l}finally{try{e||null==a.return||a.return()}finally{if(i)throw s}}r.skus[r.index]["regionPrices"].push({price:r.priceProportion,regionId:r.PriceData.id,regionName:r.PriceData.regionName,address:r.PriceData.address,regionPrices:r.PriceData}),r.priceProportion=0,r.PriceData={},r.dialogVisible=!1}),"2"==t&&this.checkValue({skuPrice:[this.skuData.skuPrice,"价格"],skuName:[this.skuData.skuName,"规格名称"]},function(t){r.skus.push(Object(d["a"])({},r.skuData)),r.skuData={},r.dialogVisible=e}),"3"==t){if(e){var i=JSON.parse(u()(this.assocProducts));this.assocProducts=this.unique(i.concat(this.assocData),"id")}this.$refs.multipleTable.clearSelection(),this.dialogVisible=!1}},shopList:function(){var t=this;this.$http.get(this.$apis.shop.list,{params:{pageNum:1,pageSize:100}}).then(function(e){t.PricesList=e.data.data})},onEditorChange:function(t){},info:function(t,e){var r=this;this.$http.get("".concat(this.$apis.product.detail,"?productId=").concat(t)).then(function(t){if("200"==t.code){for(var i in r.assocProducts=t.data.assocProducts||[],r.product=t.data.product||{},r.$set(r.product,"productPrice",a()(r.product.productPrice/100)),r.regionPrices=t.data.regionPrices||[],r.skus=t.data.skus||[],r.skus)if(r.skus[i].skuPrice=a()(r.skus[i].skuPrice/100),r.skus[i].regionPrices)for(var s in r.skus[i].regionPrices)r.skus[i].regionPrices[s].price=a()(r.skus[i].regionPrices[s].price/100);var n=t.data.resources||[];r.resources1=n.filter(function(t){return"3"==t.type}),0==r.resources1.length&&r.resources1.push({type:3,resource:""}),r.resources2=n.filter(function(t){return"2"==t.type&&(r.content=t.resource),"1"==t.type}),r.resources2.length<3&&r.resources2.push({type:1,resource:""}),r.$nextTick(function(){if(void 0!=e){if(""==e[1].resource||null==e[1].resource)return;this.$refs.myQuillEditor.quill.enable(!0),this.$refs.myQuillEditor.quill.blur()}})}})}}},g=m,y=(r("65a3"),r("2877")),x=Object(y["a"])(g,i,s,!1,null,"0dd52c96",null);e["default"]=x.exports},2636:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAADzklEQVRYR9VZS2sUWRQ+X1cXIY/OgzxIOosk3Zf5BYIKzuBCQRBdKLqY/ehqHi505c5Z6WJGXZm9s3CYWSiCoKAQQQX/gOZ2Hot0Qh7knRC6q4+cTlWnq+1KVXeVj7qbgrrn8dWp87r3gEIsZsbMzMxRy7LOMnMGQJqI0swsTwYwT0R5Zs4DmDIM4+no6Og7ANysWjTDmMvlTjHzJSI6z8yDjcgAsEBEjwH8m81mXzTCK7QNAZ6enj5mWdZtZv6xUUX16AFMGIZxY2xs7G1QeYEAz87OZgqFwh1mvhBUcCN0AP43TfP6yMjIlB+fL2D79z9i5h4/YWH2AawCuOznJocC1lr/SkR/MbMRBkxQXgAWEV1TSt334vEErLX+m5l/D6osSjoAd5VSf9T1+3ovxbLMfC9KEI3KAvBbPUt/ZmHbZ599LTfw/PWABeBMrU+7ANvZ4P2XDrCg1pZANE3zSHX2cAHWWv/nlbq6urqou7ubCoUCLS0tlZ9RLNM0qb+/n+S5urpKGxsbLrGS8pRSF52XFcBSFIrF4hsvEJlMhhKJRHnbsizK5/O0t7cXCnNLSwul02kyjP0kVCqVaGrq81ScTCaPO8WlAlhrPcHMJ7wQDA4OUkdHR2VbhM/Pz9Pu7m5ToFtbW2loaKhiBBGytbVFCwtSud1LKqJS6id5WwYsgVYqlZ77aa4FzcxlBdvb236srv329nYSWcCBR3qBdRgTicRpCcAyh9Z6nJl/CaJ1YGCAOjs7K6QCenFxkTY3N4OwUyqVIpFRDVb8VmQctgCMK6WuQlrEXC4nLWDgrqu3t5d6etyVenl5mdbW1g5VKkHb19fnopFAW1lZ8f1Y6fKy2WwafsHmJalR5c1+ZLV+CT5orW8x803fT6xDEPT3hnUjRzWAPzE5OfmQiH5uBrDw+AVQVIFq4/tHLPySmU82C1j46qWonZ2dssi2traK6LCpEMArAfyBmX8IA1h4a4tArbwoig2Aj+ISko8OKkII5FJeh4eHKZlMuqRIGZfKGEE53xLAUrxTIXBWWAWwlFp5Vq9isUhzc3NRAN6Mn0vELujimNbiVThiV5pj1/zY7eUDZr4SJLWF7QuC9h+1WCrtpWzEroG3rfw9H5FeK6XKF5DxPYTaVv6mx3w5sayvr7vc1/OYL1Sxu0hxApCZ43FV5fyLWF0GVoGOz3VrtaVjc6HtgI7VyMABHauhTHVStMdeMk3yvDQM0o84NABeG4ZxPfKxVy0I200uE9G5Rq64yqV1f7D4BMAjv4lRvY/3HXsdZjGf0a2Ay0c9uv0EhLTmEiIjjB0AAAAASUVORK5CYII="},"29f2":function(t,e,r){},"469f":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("7d7b")},4917:function(t,e,r){"use strict";var i=r("cb7c"),s=r("9def"),n=r("0390"),a=r("5f1b");r("214f")("match",1,function(t,e,r,o){return[function(r){var i=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,i):new RegExp(r)[e](String(i))},function(t){var e=o(r,t,this);if(e.done)return e.value;var c=i(t),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;var d,p=[],h=0;while(null!==(d=a(c,l))){var f=String(d[0]);p[h]=f,""===f&&(c.lastIndex=n(l,s(c.lastIndex),u)),h++}return 0===h?null:p}]})},"5d73":function(t,e,r){t.exports=r("469f")},"65a3":function(t,e,r){"use strict";var i=r("29f2"),s=r.n(i);s.a},"7d7b":function(t,e,r){var i=r("e4ae"),s=r("7cd6");t.exports=r("584a").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"96cf":function(t,e){!function(e){"use strict";var r,i=Object.prototype,s=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag",l="object"===typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{u=e.regeneratorRuntime=l?t.exports:{},u.wrap=b;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(D([])));y&&y!==i&&s.call(y,a)&&(m=y);var x=_.prototype=w.prototype=Object.create(m);k.prototype=x.constructor=_,_.constructor=k,_[c]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},u.awrap=function(t){return{__await:t}},P(S.prototype),S.prototype[o]=function(){return this},u.AsyncIterator=S,u.async=function(t,e,r,i){var s=new S(b(t,e,r,i));return u.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},P(x),x[c]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},u.values=D,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,s){return o.type="throw",o.arg=t,e.next=i,s&&(e.method="next",e.arg=r),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=s.call(a,"catchLoc"),l=s.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=t,a.arg=e,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var s=i.arg;L(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:D(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=r),v}}}function b(t,e,r,i){var s=e&&e.prototype instanceof w?e:w,n=Object.create(s.prototype),a=new I(i||[]);return n._invoke=E(t,r,a),n}function C(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(i){return{type:"throw",arg:i}}}function w(){}function k(){}function _(){}function P(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){function e(r,i,n,a){var o=C(t[r],t,i);if("throw"!==o.type){var c=o.arg,l=c.value;return l&&"object"===typeof l&&s.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,n,a)},function(t){e("throw",t,n,a)}):Promise.resolve(l).then(function(t){c.value=t,n(c)},function(t){return e("throw",t,n,a)})}a(o.arg)}var r;function i(t,i){function s(){return new Promise(function(r,s){e(t,i,r,s)})}return r=r?r.then(s,s):s()}this._invoke=i}function E(t,e,r){var i=d;return function(s,n){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===s)throw n;return V()}r.method=s,r.arg=n;while(1){var a=r.delegate;if(a){var o=$(a,r);if(o){if(o===v)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=C(t,e,r);if("normal"===c.type){if(i=r.done?f:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=f,r.method="throw",r.arg=c.arg)}}}function $(t,e){var i=t.iterator[e.method];if(i===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,$(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var s=C(i,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,v;var n=s.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){while(++i<t.length)if(s.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=r,e.done=!0,e};return n.next=n}}return{next:V}}function V(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},a21f:function(t,e,r){var i=r("584a"),s=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},f499:function(t,e,r){t.exports=r("a21f")}}]);