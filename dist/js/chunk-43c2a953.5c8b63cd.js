(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43c2a953"],{9255:function(t,e,s){},ed55:function(t,e,s){"use strict";var a=s("9255"),i=s.n(a);i.a},f369:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add"},[s("div",{staticClass:"add-title",attrs:{flex:"cross:center"}},[t._v("小区设置＞"),s("span",[t._v(t._s("edit"==t.$route.query.type?t.$route.meta.editTitle:t.$route.meta.addTitle))])]),s("div",{staticClass:"add-body"},[s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("小区名称：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",maxlength:20},model:{value:t.model.regionName,callback:function(e){t.$set(t.model,"regionName",e)},expression:"model.regionName"}})],1),s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("业务员：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",maxlength:10},model:{value:t.model.salesUserName,callback:function(e){t.$set(t.model,"salesUserName",e)},expression:"model.salesUserName"}})],1),s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("业务员电话：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",maxlength:20},model:{value:t.model.salesUserMobile,callback:function(e){t.$set(t.model,"salesUserMobile",e)},expression:"model.salesUserMobile"}})],1),s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("物业公司名称：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",maxlength:20},model:{value:t.model.wyUserUnit,callback:function(e){t.$set(t.model,"wyUserUnit",e)},expression:"model.wyUserUnit"}})],1),s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("物业负责人：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",maxlength:10},model:{value:t.model.wyUserName,callback:function(e){t.$set(t.model,"wyUserName",e)},expression:"model.wyUserName"}})],1),s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("物业负责人电话：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",maxlength:20},model:{value:t.model.wyUserMobile,callback:function(e){t.$set(t.model,"wyUserMobile",e)},expression:"model.wyUserMobile"}})],1),s("div",{staticClass:"add-body-item",attrs:{flex:""}},[s("p",{staticClass:"add-body-text"},[t._v("详细地址：")]),s("el-input",{staticClass:"add-item-input",staticStyle:{flex:"1","max-width":"600px"},attrs:{placeholder:"请输入",type:"textarea",rows:4,maxlength:30},model:{value:t.model.address,callback:function(e){t.$set(t.model,"address",e)},expression:"model.address"}})],1),s("div",{staticClass:"add-body-btn",attrs:{btn:""},on:{click:t.region}},[t._v(t._s("edit"==t.$route.query.type?"修改":"添加"))])]),s("l-dialog",{attrs:{dialogVisible:t.dialogVisible,title:"当前小区业务员名片码",width:"540px"},on:{"update:dialogVisible":function(e){t.dialogVisible=e},"update:dialog-visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"dialogBox"},[s("img",{staticClass:"img",attrs:{src:t.img,id:"images"}}),s("div",{staticClass:"btnBox"},[s("div",{class:["btn",t.img?"save-btn":"gray-btn"],staticStyle:{"margin-right":"16px"},attrs:{btn:""},on:{click:t.save}},[t._v("保存并下载")]),s("div",{staticClass:"btn cancel-btn",attrs:{btn:""},on:{click:t.cancel}},[t._v("取消")])])])])],1)},i=[],l=s("cebc"),d=(s("cadf"),s("551c"),s("f751"),s("097d"),{components:{},data:function(){return{model:{address:"",regionName:"",salesUserName:"",salesUserMobile:"",wyUserName:"",wyUserMobile:"",isDisabled:!1},dialogVisible:!1,loading:!0,img:""}},created:function(){this.$route.query.item&&(this.model=JSON.parse(this.$route.query.item))},methods:{save:function(){if(this.img){var t=new Image;t.setAttribute("crossOrigin","anonymous"),t.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var s=e.getContext("2d");s.drawImage(t,0,0,t.width,t.height);var a=e.toDataURL("image/png"),i=document.createElement("a"),l=new MouseEvent("click");i.download=name||"二维码",i.href=a,i.dispatchEvent(l)},t.src=document.getElementById("images").src}},cancel:function(){this.dialogVisible=!1},update:function(){var t=this;this.$http.post(this.$apis.shop.update,Object(l["a"])({},this.model)).then(function(e){t.isDisabled=!1,t.$toast(e.msg),t.$router.push({path:"/shop",query:{type:"house"}})})},region:function(){var t=this;""!=this.model.regionName?""!=this.model.salesUserName?""!=this.model.salesUserMobile?""!=this.model.wyUserName?""!=this.model.wyUserMobile?""!=this.model.address?this.isDisabled?this.$toast("请勿重复点击"):(this.isDisabled=!0,this.$route.query.item?this.update():this.$http.post(this.$apis.shop.region,Object(l["a"])({},this.model)).then(function(e){t.isDisabled=!1,t.$toast(e.msg),t.img=e.data.qrUrl,t.dialogVisible=!0})):this.$toast("请输入详细地址"):this.$toast("请输入物业负责人电话"):this.$toast("请输入物业负责人姓名"):this.$toast("请输入业务人员电话"):this.$toast("请输入业务员姓名"):this.$toast("请输入小区名称")}}}),o=d,n=(s("ed55"),s("2877")),c=Object(n["a"])(o,a,i,!1,null,"99fc660e",null);e["default"]=c.exports}}]);