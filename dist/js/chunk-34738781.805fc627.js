(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34738781"],{"4b94":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"detail"},[e("div",{staticClass:"detail-title"},[t._v("成员详情"),t.type?e("span",{attrs:{btn:""},on:{click:function(i){t.type=!1}}},[e("i",{staticClass:"el-icon-edit"}),t._v("编辑信息")]):t._e()]),e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("头像：")]),e("div",{staticClass:"detail-item-right",staticStyle:{"line-height":"0"}},[t.type?e("img",{staticStyle:{width:"124px",height:"124px"},attrs:{src:t.imgUrl}}):t._e(),t.imgUrl&&!t.type?e("div",{staticClass:"hint"},[t._v("点击更换头像")]):t._e(),t.type?t._e():e("l-upload",{attrs:{width:"124",height:"124",imgUrl:t.imgUrl,spec:t.spec},on:{"update:imgUrl":function(i){t.imgUrl=i},"update:img-url":function(i){t.imgUrl=i}}}),t.imgUrl?t._e():e("text-tips",{attrs:{spec:t.spec}})],1)]),e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("姓名：")]),e("div",{staticClass:"detail-item-right"},[t.type?e("span",[t._v(t._s(t.model.userName))]):e("el-input",{staticStyle:{width:"270px"},attrs:{maxlength:5},model:{value:t.model.userName,callback:function(i){t.$set(t.model,"userName",i)},expression:"model.userName"}})],1)]),e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("职位：")]),e("div",{staticClass:"detail-item-right"},[t.type?e("span",[t._v(t._s(t.model.position))]):e("el-input",{staticStyle:{width:"270px"},attrs:{maxlength:20},model:{value:t.model.position,callback:function(i){t.$set(t.model,"position",i)},expression:"model.position"}})],1)]),e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("联系方式：")]),e("div",{staticClass:"detail-item-right"},[t.type?e("span",[t._v(t._s(t.model.mobile))]):e("el-input",{staticStyle:{width:"270px"},attrs:{maxlength:11},model:{value:t.model.mobile,callback:function(i){t.$set(t.model,"mobile",i)},expression:"model.mobile"}})],1)]),t.type?e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("负责小区：")]),e("div",{staticClass:"detail-item-right",attrs:{flex:"","flex-wrap":""}},t._l(t.regionList,function(i,s){return e("div",{key:"regionList"+s,staticClass:"house"},[t._v(t._s(i.regionName))])}),0)]):t._e(),t.type?e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("接单数：")]),e("div",{staticClass:"detail-item-right",staticStyle:{color:"#FF6E39"}},[t._v("\n      "+t._s(t.acceptOrderNum?t.acceptOrderNum:0)+" 单\n    ")])]):t._e(),t.type?e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("好评数：")]),e("div",{staticClass:"detail-item-right",staticStyle:{color:"#30FF00"}},[t._v("\n      "+t._s(t.highOpinionNum?t.highOpinionNum:0)+" 次\n    ")])]):t._e(),t.type?e("div",{staticClass:"detail-item",attrs:{flex:""}},[e("div",{staticClass:"detail-item-left"},[t._v("差评数：")]),e("div",{staticClass:"detail-item-right",staticStyle:{color:"#FF6E39"}},[t._v("\n      "+t._s(t.badNum?t.badNum:0)+" 次\n    ")])]):t._e(),t.type?t._e():e("div",{class:t.btnClass,attrs:{btn:"",disabled:""},on:{click:t.update}},[t._v("保存")])])},a=[],l=e("cebc"),d={components:{},data:function(){return{model:{},imgUrl:"",type:!0,spec:{width:112,height:112,size:"500K"},regionList:[],isDisabled:!1,acceptOrderNum:0,highOpinionNum:0,badNum:0}},computed:{id:function(){return this.$route.query.id},btnClass:function(){return this.imgUrl&&this.model.userName&&this.model.position&&this.model.mobile?"detail-item-btn":"detail-item-disabled-btn"}},created:function(){this.id?this.info(this.id):this.type=!1},methods:{info:function(t){var i=this;this.$http.get("".concat(this.$apis.member.detail,"?id=").concat(t)).then(function(t){"200"==t.code&&(i.model=t.data.userDTO,i.imgUrl=t.data.userDTO.photoUrl,i.regionList=t.data.regionList,i.acceptOrderNum=t.data.acceptOrderNum,i.highOpinionNum=t.data.highOpinionNum,i.badNum=t.data.badNum)})},update:function(){var t=this;""!=this.imgUrl?""!=this.model.userName?""!=this.model.position?""!=this.model.mobile&&11==this.model.mobile.length?this.isDisabled?this.$toast("请勿重复点击"):(this.isDisabled=!0,this.$http.post(this.$apis.member.update,Object(l["a"])({},this.model,{state:2,photoUrl:this.imgUrl})).then(function(i){"200"==i.code&&(t.info(i.data),t.type=!0),t.$toast(i.msg),t.isDisabled=!1})):this.$toast("请添加正确的联系方式"):this.$toast("请输入职位"):this.$toast("请输入姓名"):this.$toast("请添加头像")}}},o=d,n=(e("fac8"),e("2877")),c=Object(n["a"])(o,s,a,!1,null,"7b1aef9e",null);i["default"]=c.exports},c6ec:function(t,i,e){},fac8:function(t,i,e){"use strict";var s=e("c6ec"),a=e.n(s);a.a}}]);